好的，我先给你一版 **`MVP-Design.md`** 风格的文档内容，你可直接复制到 Cursor 开工。
不会附带代码，只描述设计与接口约定。

---

```markdown
# MVP Design — 习惯 / 复盘闭环 App
面向人群：普通成年人  
语言：中文  
收入模式：订阅（周总结等为付费功能）

---

## 1）核心理念
不是“打卡工具”，而是“**每日记录 + 闭环复盘 + 微建议**”的长期陪伴型 App。  
用户每天花 30 秒，即可形成可持续的行为改进闭环。

---

## 2）MVP 功能范围（First Release）

### ✅ 每日打卡
- 用户最多可创建 3 个习惯（免费上限）
- 每日对每个习惯进行：`完成` / `跳过` / `未填`
- 可选备注一行文字，例如“心情不好没跑步”

### ✅ 每日复盘（文本）
- 用户每天填写一句复盘文字（开放式）

### ✅ AI 当日微建议
输入：
- 近 7 日完成率（百分比）
- 今日习惯完成情况
- 今日复盘文本（若有）

输出（目标格式约定）：
> 用一句中文给出 **可执行 + 温和 + 针对今天** 的提示建议  
> 例：`你的完成率今天下降了，可以把阅读时间改成早上醒来后10分钟尝试。`

### ✅ 周总结（订阅差异）
- **免费用户：** 展示一条数据（周完成率）
- **付费用户：** 提供一段 AI 生成的周建议总结文本

---

## 3）数据结构（本地 Core Data）

**Habit**
```

id: UUID
title: String
goalType: String      // daily 固定
createdAt: Date

```

**DailyRecord**
```

id: UUID
date: Date            // yyyy-MM-dd 维度
habitId: UUID
status: Int           // 0 none, 1 done, 2 skipped
note: String?         // optional

```

**Review**
```

date: Date
text: String          // 用户复盘一句话
aiSuggestion: String? // 当日建议

```

---

## 4）服务依赖

AI Provider: OpenAI API  
无需后端（第一版本直接客户端调用）

---

## 5）AI Prompt 约定（v1）

> 角色：你是一个温和但务实的中文成长陪伴助手。  
> 输入：过去 7 天的习惯完成率 + 今日完成情况 + 今日的一句话复盘  
> 输出要求：  
> - **必须只输出 1 句中文**  
> - 不解释理由，不复述输入内容  
> - 建议必须是“明天可执行”的具体动作  
> 输出示例：  
> `试着把跑步移动到早上完成，先从10分钟开始做起。`

---

## 6）订阅策略（第一版）

| 功能 | 免费 | 订阅 |
|------|------|------|
| 习惯数量 | ≤ 3 | 不限 |
| 每日打卡 & 复盘 | ✅ | ✅ |
| AI 每日建议 | ✅ | ✅ |
| 周完成率数字 | ✅ | ✅ |
| AI 周总结 | ❌ | ✅ |
| 数据备份（iCloud） | ✅ | ✅ |

订阅形式建议：月/年（无终身首版）

---

## 7）导航结构（3 Tab）

```

Tab1 今日

* 今日习惯列表
* 复盘输入
* AI 建议展示

Tab2 历史

* 日历 / 列表
* 查看往日习惯与建议

Tab3 我的

* 订阅 / 恢复购买
* 管理习惯
* 关于 / 隐私

```

---

## 8）版本完成标准（MVP Done Definition）

- [ ] 可创建/删除习惯（限制3个）
- [ ] 可对当天习惯完成做记录
- [ ] 可填写当日一句复盘
- [ ] 可调用 API 生成当日建议并保存
- [ ] 有历史浏览
- [ ] 有周总结（仅展示数字）
- [ ] 有订阅界面占位（无需真实接通）
- [ ] App Store 可提交

---
```

---

如果你确认这份文档大方向 OK，我可以在下一条继续生成第二个文件：
**`PROMPTS.md`**（把所有 AI Prompt 分场景写成可直接调用的 prompt 集合）
或者
**`BACKLOG.md`**（从现在到上架的开发任务拆解）

你告诉我下一步要哪一个：

回复其一即可：

```
PROMPTS
BACKLOG
```
